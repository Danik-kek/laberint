# laberint
на данный момент персонаж охотник-шахтёр вырезан из игры (нестабильно и ошибки )
### Краткое описание архитектуры игры и программных решений

#### **1. Общая информация**
Игра представляет собой текстовый лабиринт, где игрок управляет персонажем (`P`), пытаясь достичь цели (`G`). В процессе игры появляется охотник (`H`), который преследует игрока, а также возможен вариант с охотником-шахтёром (`T`), который может копать стены. Игровой процесс основан на консольном интерфейсе, что делает его простым для понимания и реализации.

---

#### **2. Архитектура игры**
Игра разработана на языке C# с использованием стандартной библиотеки .NET Framework. Основные компоненты:
- **Консольный вывод**: Используется для отображения лабиринта, игровых объектов и информации о состоянии игры.
- **Генерация лабиринта**: Лабиринт генерируется алгоритмом рекурсивного случайного блуждания (Recursive Backtracking Algorithm), обеспечивающим уникальную карту при каждом запуске.
- **Управление игроком**: Игрок перемещается с помощью клавиш `W`, `A`, `S`, `D`. При достижении цели (`G`) лабиринт перегенерируется, а достижения увеличиваются.
- **Охотники**:
  - **Обычный охотник (`H`)**: Активируется при достижении определённого количества очков (5+) и движется по следам игрока.
  - **Охотник-шахтёр (`T`)**: Добавлен как дополнительный элемент сложности, копает стены для достижения игрока.
- **Статистика**: Отслеживается количество пройденных лабиринтов, максимальное количество очков, сломанных стен и размер лабиринта.

---

#### **3. Программные решения**

##### **3.1 Генерация лабиринта**
Лабиринт создаётся с помощью алгоритма рекурсивного случайного блуждания:
- Начальная точка выбирается случайно.
- Алгоритм двигается в случайном направлении, создавая проходы.
- Все пути соединяются, обеспечивая связность лабиринта.

```csharp
static void RandomizeMaze(char[,] maze, int x, int y)
{
    maze[y, x] = path;
    List<(int, int)> directions = new List<(int, int)> { (0, 2), (2, 0), (0, -2), (-2, 0) };
    directions = Shuffle(directions);

    foreach (var (dx, dy) in directions)
    {
        int nx = x + dx;
        int ny = y + dy;
        if (nx > 0 && nx < maze.GetLength(1) - 1 && ny > 0 && ny < maze.GetLength(0) - 1 && maze[ny, nx] == wall)
        {
            maze[y + dy / 2, x + dx / 2] = path;
            RandomizeMaze(maze, nx, ny);
        }
    }
}
```

##### **3.2 Управление игроком**
Игрок может перемещаться с помощью клавиш `W`, `A`, `S`, `D`. После каждого хода обновляется положение игрока, оставляя след (`.`). Если игрок достигает цели (`G`), лабиринт перегенерируется.

##### **3.3 Охотники**
- **Обычный охотник (`H`)**: Двигается к ближайшему следу игрока, используя алгоритм нахождения ближайшего расстояния.
- **Охотник-шахтёр (`T`)**: Использует алгоритм BFS (Breadth-First Search) для нахождения кратчайшего пути до игрока, копая стены при необходимости.

##### **3.4 Статистика**
В конце игры выводится статистика:
- Количество пройденных лабиринтов.
- Максимальное количество очков.
- Количество сломанных стен.
- Размер последнего лабиринта.

---

#### **4. Библиотеки и технологии**
- **System**: Основная библиотека для работы с базовыми типами данных и операциями.
- **System.Collections.Generic**: Для использования коллекций (например, `List<T>`).
- **System.Text**: Для работы со строками (`StringBuilder`).
- **System.Threading**: Для добавления задержки между действиями (`Thread.Sleep`).

---

#### **5. Игровые алгоритмы**

##### **5.1 Алгоритм BFS (Breadth-First Search)**
Используется для движения охотника-шахтёра:
- Создаёт очередь для исследования соседних клеток.
- Проверяет доступность каждой клетки (проход, след или стена).
- Находит кратчайший путь до игрока, учитывая возможность копания стен.

##### **5.2 Рекурсивное случайное блуждание**
Используется для генерации лабиринта:
- Начинается с одной точки.
- Рекурсивно создаёт проходы в случайных направлениях.
- Обеспечивает связность всех путей.

##### **5.3 Шифрование цветов**
Для отображения цветов используется ANSI-кодирование:
- Зелёный цвет для игрока: `\u001b[32m`.
- Красный цвет для охотников: `\u001b[31m`.
- Жёлтый цвет для охотника-шахтёра: `\u001b[33m`.

---

#### **6. Заимствованные ресурсы**

##### **6.1 ASCII-искусство**
ASCII-артефакт, используемый в начале игры, заимствован из открытых источников. Он служит визуальным элементом для привлечения внимания.

**Источник:**  
https://ascii.co.uk/art  

##### **6.2 Алгоритм генерации лабиринта**
Алгоритм рекурсивного случайного блуждания взят из общедоступных учебных материалов по генерации лабиринтов.

**Источник:**  
https://en.wikipedia.org/wiki/Maze_generation_algorithm  

##### **6.3 Алгоритм BFS**
Реализация BFS основана на общих принципах поиска в ширину, описанных в учебной литературе.

**Источник:**  
https://en.wikipedia.org/wiki/Breadth-first_search  

---

#### **7. Основные особенности игры**
- **Достижения**: Изменяют скорость охотников, ограничивают возможности игрока (например, копание стен при достижениях `-10` и ниже).
- **Динамическое изменение размера лабиринта**: Размер лабиринта увеличивается или адаптируется под размер окна консоли.
- **Окончание игры**: Когда достижения становятся `-10` или ниже, игра завершается, и выводится статистика.

---

#### **8. Структура проекта**
- **Program.cs**: Главный файл, содержащий всю логику игры.
- **Методы**:
  - `GenerateMaze`: Создаёт лабиринт.
  - `MovePlayer`: Обрабатывает движение игрока.
  - `ActivateHunter` и `MoveHunter`: Логика активации и движения обычного охотника.
  - `FindShortestPath`: Поиск кратчайшего пути для охотника-шахтёра.
  - `BreakWall`: Разрушение стен игроком.
  - `UpdateHunterSpeed`: Обновление скорости охотников в зависимости от достижений.

---

#### **9. Инструкция по запуску**
1. Установите среду разработки (например, Visual Studio).
2. Создайте новый проект Console Application.
3. Скопируйте код в файл `Program.cs`.
4. Запустите проект.

__________________________________
или запустить готовый exe файл из архива 

---

#### **10. Особенности реализации**
- **Цветовая маркировка**: Используются ANSI-коды для изменения цвета текста.
- **Адаптивность**: Лабиринт автоматически адаптируется под размер окна консоли.
- **Сложность**: Скорость охотников и ограничения игрока зависят от текущих достижений.

---

#### **11. Вывод**
Игра демонстрирует использование базовых алгоритмов для создания динамического и интересного игрового процесса. Она сочетает в себе элементы случайной генерации, искусственного интеллекта (логика охотников) и взаимодействие с пользователем через консоль.

Если у вас есть вопросы или предложения по улучшению, буду рад обсудить!
